var Todays=angular.module("Todays",["ngRoute","Controllers","Directives"]);Todays.config(["$routeProvider","$locationProvider",function(t,o){o.hashPrefix(""),t.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/author",{templateUrl:"./views/author.html",controller:"AuthorController"}).when("/category",{templateUrl:"./views/category.html",controller:"CategoryController"}).when("/favourite",{templateUrl:"./views/favourite.html",controller:"FavouriteController"}).when("/settings",{templateUrl:"./views/settings.html",controller:"SettingsController"}).otherwise({redirectTo:"/today"})}]),Todays.run(["$rootScope",function(t){t.collapsed=!1,t.toggle=function(){var o=document.querySelectorAll(".nav dd");if(t.collapsed){console.log("关闭"),t.collapsed=!t.collapsed;for(var e=0;e<o.length;e++){o[e].style.transform="translate(-100%)",o[e].style.transitionDelay="0.2s";var l=o.length;o[e].style.transitionDuration=.15*(l-e)+"s"}}else{t.collapsed=!t.collapsed;for(e=0;e<o.length;e++)o[e].style.transform="translate(0)",o[e].style.transitionDelay="0.2s",o[e].style.transitionDuration=.15*(e+1)+"s"}}}]),angular.module("Controllers",[]).controller("NavController",["$scope",function(t){t.navs=[{link:"#/today",icon:"icon-home",text:"今日一刻"},{link:"#/older",icon:"icon-file-empty",text:"往期内容"},{link:"#/author",icon:"icon-pencil",text:"热门作者"},{link:"#/category",icon:"icon-menu",text:"栏目浏览"},{link:"#/favourite",icon:"icon-heart",text:"我喜欢的"},{link:"#/settings",icon:"icon-cog",text:"设置"}]}]).controller("TodayController",["$scope","$http","$filter","$rootScope",function(t,o,e,l){var r=new Date;l.title="今日一刻",l.index=0,l.loaded=!1,o({url:"./api/today.php",method:"get",params:{today:r=e("date")(r,"yyyy-MM-dd")}}).then(function(o){t.datas=o.data.posts,t.time=o.data.date,l.loaded=!0})}]).controller("OlderController",["$scope","$http","$rootScope",function(t,o,e){e.index=1,e.title="往期内容",e.loaded=!1,o({url:"./api/older.php",method:"get"}).then(function(o){t.datas=o.data.posts,t.time=o.data.date,e.loaded=!0})}]).controller("AuthorController",["$scope","$http","$rootScope",function(t,o,e){e.index=2,e.title="热门作者",o({url:"./api/re_author.php",method:"get"}).then(function(o){t.re_authors=o.data.authors,e.loaded=!0}),o({url:"./api/all_author.php",method:"get"}).then(function(o){t.all_authors=o.data.authors,e.loaded=!0}),t.need=!1,t.btn=function(){o({url:"./api/more_author.php",method:"get"}).then(function(o){t.more_authors=o.data.authors,t.need=!0})}}]).controller("CategoryController",["$scope","$http","$rootScope",function(t,o,e){e.index=3,e.title="栏目浏览",e.loaded=!1,o({url:"./api/category.php",method:"get"}).then(function(o){t.datas=o.data.columns,console.log(t.datas),e.loaded=!0})}]).controller("FavouriteController",["$scope","$rootScope",function(t,o){o.index=4,o.title="favourite",o.loaded=!0}]).controller("SettingsController",["$scope","$rootScope",function(t,o){o.index=5,o.title="设置11",o.loaded=!0}]),angular.module("Directives",[]).directive("loading",function(){return{restrict:"A",replace:!0,template:'<img src="" alt="">'}});